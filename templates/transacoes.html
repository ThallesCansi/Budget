{% extends "base.html" %}

{% block conteudo %}
<div class="transacao">
    <div>
        <table id="transacao-table" class="table table-hover align-middle">
          <caption>Quantidade de Transações: {{qtdeTransacoes}}</caption>
          <thead class="table-primary">
            <tr>
              <th scope="col">Tipo</th>
              <th scope="col">Data</th>
              <th scope="col">Categoria</th>
              <th scope="col">Descrição</th>
              <th scope="col">Conta</th>
              <th scope="col">Valor</th>
              <th scope="col">Dependente</th>
              <th scope="col">Ações</th>   
            </tr>
          </thead>
          <tbody class="table-group-divider">
            {% for t in transactions %}
              {% if t.typeIorE == 'Receita' %}
            <tr class="table-success">
              {% else %}
            <tr class="table-danger">
              {% endif %}
              <td>{{t.typeIorE}}</td>
              <td>{{t.date}}</td>
              <td>{{t.idCategory}}</td>
              <td>{{t.description}}</td>
              <td>{{t.idAccount}}</td>
              <td>{{t.value}}</td>
              <td>{{t.idDependent}}</td>
              <td>
                  <div class="edit-excl">
                      <form action="/excluirTransacao" method="post">
                        <button class="reset-Button" name="idTransaction" value="{{t.idTransaction}}" type="submit" onclick="openPopupExcluir()"><img src="static/images/edit.svg"></button>                        
                      </form>
                      <form action="/excluirTransacao" method="post">
                        <button class="reset-Button" name="idTransaction" value="{{t.idTransaction}}" type="submit" onclick="openPopupExcluir()"><img src="static/images/excluir.svg"></button>                        
                      </form>
                  </div></td>
            </tr>
              
            {% endfor %}
          </tbody>
        </table>
    </div>
    <div>
         <div class="overviews transacao">
            <div class="overview">
                <img id="receitas" src="">
                <p class="dinheiro" id="receitas">{{receita}}</p>
                <p class="">receitas</p>
            </div>
            <div class="overview">
                <img src="">
                <p class="dinheiro" id="despesas">{{despesa}}</p>
                <p class="">despesas</p>
            </div>
             <div class="overview" id="saldo">
                <img class="" src="">
                <p class="dinheiro" id="saldo">{{saldo}}</p>
                <p class="">saldo</p>
            </div>
        </div>
    </div>
</div>
<script src="static/scripts/popup.js"></script>
{% endblock %}